<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" href="../js/layui/css/layui.css" />
	</head>
	<body>
		<div class="layui-layout-body">
			<div class="layui-fluid">
				<div class="demoTable">
					<div class="layui-form">
						<div class="layui-form-item">
							<div class="layui-inline">
								<label class="layui-form-label">功能描述：</label>
								<div class="layui-input-block">
									<input name="id" class="layui-input" type="text" placeholder="请输入" autocomplete="off" id="demoReload"/>
								</div>
							</div>
							<div class="layui-inline">
								<label class="layui-form-label">操作类型：</label>
								<div class="layui-input-block">
									<input name="id" class="layui-input" type="text" placeholder="请输入" autocomplete="off" id="demoReload" />
								</div>
							</div>
							<div class="layui-inline">
								<label class="layui-form-label">操作时间：</label>
								<div class="layui-input-block">
									<input name="id" class="layui-input" type="text" placeholder="请输入" autocomplete="off" id="demoReload"/>
								</div>
							</div>
							<div class="layui-inline">
								<button class="layui-btn" data-type="reload">搜索</button>
							</div>
							<div class="layui-inline">
								<button class="layui-btn" data-type="export">导出</button>
							</div>
						</div>
					</div>
				</div>
				<table class="layui-hide" id="LAY_table_user" lay-filter="user"></table>
			</div>
		</div>
		<script src="../js/layui/layui.js"></script>
		<script>
			layui.use('table', function() {
				var table = layui.table;

				//方法级渲染
				table.render({
					elem: '#LAY_table_user',
					url: '/demo/table/user/',
					cols: [
						[{
							field: 'id',
							title: 'ID',
							width: 80,
							sort: true,
							fixed: true
						}, {
							field: 'username',
							title: '功能描述',
							width: 120
						}, {
							field: 'sex',
							title: '操作类别',
							width: 120,
							sort: true
						}, {
							field: 'city',
							title: '操作方式',
							width: 120
						}, {
							field: 'experience',
							title: '信息',
							width: 200
						}, {
							field: 'score',
							title: '操作者',
							sort: true,
							width: 120
						}, {
							field: 'wealth',
							title: '操作时间',
							width: 120
						}]
					],
					id: 'testReload',
					page: true,
					height: 315,
					width:880
				});

				var $ = layui.$,
					active = {
						reload: function() {
							var demoReload = $('#demoReload');

							//执行重载
							table.reload('testReload', {
								page: {
									curr: 1 //重新从第 1 页开始
								},
								where: {
									key: {
										id: demoReload.val()
									}
								}
							});
						}
					};

				$('.demoTable .layui-btn').on('click', function() {
					var type = $(this).data('type');
					active[type] ? active[type].call(this) : '';
				});
			});
		</script>
	</body>
</html>
